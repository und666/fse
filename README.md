<div align="center">

# FSE (Flash Starling Enhance) æ··åˆæ¸²æŸ“æ¡†æ¶

**FSEæ˜¯ä¸€ä¸ªç”¨äºFlash AS3çš„è½»é‡GPUæ··åˆæ¸²æŸ“æ¡†æ¶ã€‚æ—¨åœ¨ä½¿ç”¨ä¼ ç»ŸFlashå¼€å‘æ–¹æ³•å¿«é€Ÿæ„å»ºèƒ½å¤Ÿä¸Unityä½“éªŒç›¸è¿‘çš„2Dé«˜å¸§ç‡åº”ç”¨ã€‚**

[**ğŸ‡¨ğŸ‡³ ä¸­æ–‡**](README.md) | [**ğŸ‡¬ğŸ‡§ English**](README_en.md)

[![GitHub stars](https://img.shields.io/github/stars/und666/FlashStarlingEnhance?style=social)](https://github.com/und666/FlashStarlingEnhance/stargazers)
![visitors](https://visitor-badge.laobi.icu/badge?page_id=FlashStarlingEnhance&left_color=green&right_color=red)


https://github.com/user-attachments/assets/65afb2fe-926f-4096-930b-0b4742105d73

github: https://github.com/und666/FlashStarlingEnhance


</div>

## ç‰¹ç‚¹

- å¿«é€Ÿå¼€å§‹,ä¸ä¼ ç»ŸAS3é¡¹ç›®å¯¹æ¥
- ä¸ç”¨å†™Starlingä»£ç å³å¯è½»æ¾åˆ›å»ºStarlingé¡¹ç›®
- é€‚ç”¨äºä¸ªäººçº§åˆ«è½»é‡åŒ–å¯Œä½å›¾çš„é«˜å¸§ç‡GPUé¡¹ç›®å¿«é€Ÿå¼€å‘
- æ”¯æŒä¼ ç»ŸFlashçš„çª—å£è‡ªé€‚åº”ç­–ç•¥
- æ”¯æŒä¼ ç»Ÿå‘å…‰ï¼Œæ¨¡ç³Šï¼ŒæŠ•å½±æ»¤é•œ

## ç¢ç¢å¿µ

- ä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿæ²¡é”™ï¼Œç°åœ¨æ˜¯2026å¹´ï¼Œè·ç¦»FlashæŠ€æœ¯æ­£å¼é€€å‡ºå†å²èˆå°å·²æœ‰äº”å¹´ä¹‹ä¹…ã€‚æ­£æ˜¯åœ¨è¿™æ ·çš„æ—¶é—´ç‚¹ä¸Šï¼ŒFSEï¼ˆFlash Starling Enhanceï¼‰æ··åˆæ¸²æŸ“æ¡†æ¶å¦‚ä¸€æ¬¡è·¨è¶Šæ—¶ç©ºçš„æŠ€æœ¯â€œå›å“â€ï¼Œæ‚„ç„¶è¯ç”Ÿã€‚
  
- æˆ‘æ˜¯ä¸€åæ¥è‡ªä¸­å›½çš„çƒ­çˆ±ç‹¬ç«‹æ¸¸æˆåˆ›ä½œçš„å¤§ä¸‰å­¦ç”Ÿï¼Œæ­£åœ¨é€æ­¥å‘UnityæŠ€æœ¯æ ˆè½¬å‹ã€‚ä»Šå¹´æ°æ˜¯æˆ‘æ¥è§¦ActionScript 3.0å¼€å‘çš„ç¬¬åå¹´ã€‚è¿™äº›å¹´é—´ï¼Œæˆ‘å§‹ç»ˆæ€€æœ‰ä¸€ç§æ„§ç–šâ€”â€”è™½å¯¹è¿™ä¸€æŠ€æœ¯æœ‰äº†ç›¸å½“åœ°äº†è§£ï¼Œå´æœªæ›¾ç”¨å®ƒåˆ›ä½œå‡ºä»€ä¹ˆä»¤äººç©ç›®çš„ä½œå“ã€‚

- å‰æ®µæ—¶é—´ï¼Œæˆ‘æ²‰æµ¸äºStarling Wikiå’ŒGitHubä¸­å¤§é‡å…³äºStarlingæ¡†æ¶çš„èµ„æ–™ï¼ŒåŒæ—¶ä¹Ÿé™·å…¥äº†æŸç§ç“¶é¢ˆã€‚æˆ‘é€æ¸æ„è¯†åˆ°ï¼Œåœ¨å¦‚ä»Šçš„ç¯å¢ƒä¸­ç”¨Flashåšå‡ºä¼˜ç§€ä½œå“å®å±ä¸æ˜“ã€‚ä½†ä½œä¸ºä¸€ä¸ªAserï¼Œæˆ‘ä»æƒ³ä¸ºå¹´è½»çš„è‡ªå·±ã€ä¹Ÿä¸ºè¿™æ®µæŠ€æœ¯æ—…ç¨‹ç”»ä¸Šä¸€ä¸ªæ›´å®Œæ•´çš„å¥ç‚¹ã€‚

- æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€ç§æ–¹å¼ä¸è‡ªå·±å’Œè§£ï¼Œä¸æ˜¯å—ï¼Ÿè¿™ä¸ªæ¡†æ¶ä¾¿æ˜¯æˆ‘çš„ç­”æ¡ˆã€‚

- **å¥½å§ï¼Œç”¨ç™½è¯è¯´ï¼šè¿™ä¸ªæ¡†æ¶åªæ˜¯æˆ‘æœ¬äººä»¥å­¦ä¹ ä¸ºç›®çš„å¼€å‘,æ¬¢è¿å­¦ä¹ è®¨è®ºã€‚**

## å‰è¨€
  å¦‚æœä½ æ˜¯ä¸€ä½èµ„æ·±çš„Flashå¼€å‘å·¥ç¨‹å¸ˆï¼Œé‚£ä¹ˆä½ å¤§æ¦‚ç‡äº†è§£è¿‡Adobe AIR SDKçš„GPUæ¨¡å¼\
  æˆ‘å…ˆç®€å•ä»‹ç»ä¸€ä¸ªè¿™ä¸ªæ¨¡å¼ï¼Œåœ¨AIR for Android/AIR for IOSé…ç½®ä¸­,GPUè®¾ç½®æ˜¯å¯ç”¨çš„\
  é€‰æ‹©äº†è¿™ä¸ªæ¨¡å¼ä»¥åç¡®å®å¯ä»¥è®©æ•´ä¸ªç”»é¢çœ‹èµ·æ¥æ›´æµç•…ï¼Œä½†å¸§ç‡ä¾ç„¶åªèƒ½é™åˆ¶åœ¨60FPSï¼Œä»¥åŠæ»¤é•œç­‰ä¸€äº›åŠŸèƒ½å­˜åœ¨å…¼å®¹æ€§BUG\
  å¯¹äºAIR for Desktopï¼ŒGPUæ¨¡å¼ç«Ÿç„¶ç›´æ¥è¢«éšè—äº†ï¼Œæ®å°é“æ¶ˆæ¯è²Œä¼¼æ˜¯Adobeæ¨è¡Œäº†ä¸€åŠä½†å› ä¸ºå¾ˆå¤šå…¼å®¹æ€§BUGæ‰€ä»¥æ”¾å¼ƒæ¨è¡Œäº†ã€‚\
  å¹¶ä¸”åœ¨ä¼ ç»Ÿçš„Flash IDEçš„å¯¼å‡ºè®¾ç½®é‡Œæ˜¯æ²¡æœ‰è¿™ä¸ªæ¨¡å¼é€‰æ‹©çš„

  -------------------å¯çˆ±çš„åˆ†ç•Œçº¿----------------------\
  \
  é‚£ä¹ˆä½œä¸ºä¸€ä¸ªAserï¼Œè¦å¿«é€Ÿæ„å»ºé«˜æ€§èƒ½é«˜å¸§ç‡çš„Flashåº”ç”¨ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™äº›é—®é¢˜ã€‚\
  **Flash IDEAå¼€å‘**çš„ä¼ ç»Ÿåº”ç”¨ä½“éªŒä¸ä½³{**å¸§ç‡é™åˆ¶60ï¼Œå¸§ç‡ä¸ç¨³å®š**,**å¤§åˆ†è¾¨ç‡åœºæ™¯ä½å›¾ç§»åŠ¨ç›´æ¥è·³å¸§**} \
  è€Œè½¬å‘**Starling æ¡†æ¶** åï¼Œæ€§èƒ½è™½ç„¶ä¸Šæ¥äº†ï¼Œä½†åˆ¶ä½œåŠ¨ç”»å´å˜å¾—å¼‚å¸¸æ£˜æ‰‹â€”â€”**ç¼ºä¹æˆç†Ÿã€å¯è§†åŒ–çš„åŠ¨ç”»è§£å†³æ–¹æ¡ˆ**ï¼Œè¿™å‡ ä¹æ˜¯è‡´å‘½çš„çŸ­æ¿ã€‚\
  é‚£æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œåœ¨åˆ¶ä½œä¸ªäººçº§åˆ«çš„**æ‰‹æœºã€æ¡Œé¢åº”ç”¨æˆ–æ˜¯æ¸¸æˆ**æ—¶èƒ½å¤Ÿå…¼é¡¾**GPUçš„é«˜å¸§æ¸²æŸ“æ•ˆç‡**ï¼Œåˆèƒ½å¤Ÿäº«å—åˆ°**Flash IDEç°æœ‰çš„åŠ¨ç”»æ–¹æ¡ˆ**å‘¢ï¼Ÿ\
  ç­”æ¡ˆï¼šæœ‰çš„å…„å¼Ÿï¼Œæœ‰çš„~ **FSEæ­£å¼è¿›å…¥èˆå°(ä¸€è¯­åŒå…³)**

## å¼€å§‹æŒ‡å—
**1. é¦–å…ˆï¼Œå‡†å¤‡å¥½FSEæ¡†æ¶**
- ä¸€å…±åŒ…å«3ä¸ªæ–‡ä»¶
  ```
  fse
  starling
  fse.as
  (æ³¨æ„,è¿™ä¸ªstarlingåŒ…æ˜¯ç»è¿‡æˆ‘è°ƒæ•´è¿‡çš„,ä¸å®˜æ–¹ç‰ˆæœ¬starlingä¸å…¼å®¹)
  (fse.asè¿™ä¸ªæ–‡ä»¶æ˜¯FSE.asçš„å¿«æ·å…¥å£æ–‡ä»¶)
  ```
\
**2. å°†FSEæ¡†æ¶å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­**
- Flash IDEå·¥ç¨‹ä¸­
  ```
  /your_project_path
  ===========================
  fse
  starling
  fse.as
  ===========================
  xxx.fla
  xxx.swf
  ``` 

- IDEA/FB/FDå·¥ç¨‹ä¸­
  ```
  /your_project_path/src
  ===========================
  fse
  starling
  fse.as
  ===========================
  YourMainClass.as
  ```
\
**3. åœ¨ä½ çš„é¡¹ç›®ä¸­æ³¨å…¥Starlingæ¡†æ¶ã€‚**
- Flash IDEå·¥ç¨‹ä¸­
  ```haxe
  //åœ¨èˆå°æ ¹ç›®å½•ç¬¬ä¸€å¸§ä¸Š
  import fse.core.FSE;
  FSE.init(stage,this);
  //è¿™ä¸¤è¡Œç­‰æ•ˆäº
  fse.init(stage,this);
  
  //è¯·ç¡®ä¿ä½ ç»™å‡ºçš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºèˆå°å®¹å™¨å‰ªè¾‘æ ¹
  ```

- IDEA/FB/FDå·¥ç¨‹ä¸­
  ```haxe
  //åœ¨ä½ çš„ç±»æ–‡ä»¶ä¸­
  package {
      import flash.display.Sprite;
      import flash.events.Event;
      import fse.core.FSE;

      public class Main extends Sprite {
          
          public function Main() {
             if (stage) {
                 onAddedToStage();
              } else {
                  addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);
              }
          }
          private function onAddedToStage(event:Event = null):void {
            removeEventListener(Event.ADDED_TO_STAGE, onAddedToStage);
            FSE.init(stage,this);
            //ä½ çš„ä»£ç 
          }
      }
  }
  ```

## API
- **ç‰¹æ€§**
  - FSEæ¥ç®¡åæ‰€æœ‰MovieClipéƒ½ä¼šé»˜è®¤å¼ºåˆ¶æš‚åœæ’­æ”¾
  - æ’­æ”¾ç”±FSEå†…ç½®çš„åŠ¨ç”»ç®¡ç†å™¨é©±åŠ¨
  - é»˜è®¤æƒ…å†µä¸‹ï¼ŒFSEä¼šè‡ªåŠ¨ç®¡ç†æ‰€æœ‰MovieClipçš„æ’­æ”¾ï¼Œä½†ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æ‰‹åŠ¨æ§åˆ¶æ’­æ”¾

- **å¸¸ç”¨API**
  ```haxe
  //=====åˆå§‹åŒ–================================================================

  fse.init(stage,Object(root));
  //å¸¸è§„åˆå§‹åŒ–

  fse.init(stage,Object(root),false);
  //ç‰¹æ®Šåˆå§‹åŒ–ï¼Œä¸è¿›è¡ŒGPUæ¸²æŸ“ï¼Œåªæå¸§å¹¶æ¥ç®¡åŠ¨ç”»ç³»ç»Ÿ


  //=====åŠ¨ç”»æ§åˆ¶================================================================

  mc.play();
  //å¿…é¡»æ”¹å†™æˆ
  fse.play(mc);
  //æ’­æ”¾åŠ¨ç”»

  mc.stop();
  //å¿…é¡»æ”¹å†™æˆ
  fse.stop(mc);
  //åœæ­¢æ’­æ”¾åŠ¨ç”»

  mc.gotoAndStop(index);
  //å¿…é¡»æ”¹å†™æˆ
  fse.gotoAndStop(mc,index);
  //è·³è½¬åˆ°æŒ‡å®šå¸§

  mc.gotoAndPlay(index);
  //å¿…é¡»æ”¹å†™æˆ
  fse.gotoAndPlay(mc,index);
  //è·³è½¬åˆ°æŒ‡å®šå¸§å¹¶æ’­æ”¾

  var v:Boolean = mc.visible;
  //å¿…é¡»æ”¹å†™æˆ
  var v:Boolean = fse.getVisible(mc);
  //è·å–MovieClipå¯¹è±¡å¯è§æ€§
  
  mc.visible=false;
  //å¿…é¡»æ”¹å†™æˆ
  fse.visible(mc,false);
  //æ”¹å˜MovieClipå¯¹è±¡å¯è§æ€§
  
  //=====å¾ªç¯æ§åˆ¶================================================================
  
  //é«˜é¢‘å¾ªç¯ (åœ¨240å¸§çš„æƒ…å†µä¸‹æ¯ç§’åˆ·æ–°240æ¬¡)
  
  //å¼€å¯
  mc.addEventListener(Event.ENTER_FRAME,Update);
  
  //å…³é—­
  mc.removeEventListener(Event.ENTER_FRAME,Update);
  
  
  //ä½é¢‘å¾ªç¯ (æ— è®ºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éƒ½ä»¥60æ¬¡æ¯ç§’è¿è¡Œ[é¢‘ç‡åœ¨Config.asä¸­å¯è°ƒ])
  
  //å¼€å¯
  fse.addEventListener(mc,FSE_Event.FIX_ENTER_FRAME,Update);
  fse.addLoop(mc,Update);
  fse.loop(Update);
  //3å¥ç­‰æ•ˆ
  
  //å…³é—­
  fse.removeEventListener(mc,FSE_Event.FIX_ENTER_FRAME,Update);
  fse.removeLoop(mc,Update);
  fse.stopLoop(Update);
  //3å¥ç­‰æ•ˆ
  ```
- **å±‚çº§ â€œä¸‰æ˜æ²»â€ é—®é¢˜**
  ```
    åœ¨ Flash Player / AIR çš„è¿è¡Œæ—¶æ¶æ„ä¸­ï¼š
    é¡¶å±‚ (Top): åŸç”Ÿ Display List (CPU)ã€‚
    åº•å±‚ (Bottom): Stage3D (GPU/Starling)ã€‚
    è§†é¢‘å±‚: StageVideo (å¦‚æœæœ‰çš„è¯ï¼Œé€šå¸¸åœ¨æœ€æœ€åº•å±‚)ã€‚

    æ‰€ä»¥FSEæ¡†æ¶çš„å®ç°åœ¨æ­¤åŸºç¡€ä¸Šå°†Stage3Då±‚åˆ†æˆäº†3å±‚
    æ¯ä¸€å±‚çº§éƒ½æ˜¯ä¸€ä¸ªstarling.display.Spriteå®¹å™¨

    åœ¨èˆå°çš„ç¬¬1å±‚ï¼Œä¹Ÿå°±æ˜¯æœ€åº•å±‚ï¼Œä¼šæœ‰ä¸€å±‚åº•å±‚ç”¨æˆ·æ“ä½œå±‚ï¼Œä½¿ç”¨fse.starlingRootBackè¿›è¡Œè®¿é—®
    åœ¨èˆå°çš„ç¬¬2å±‚ï¼Œå°±æ˜¯æœ€æ ¸å¿ƒçš„æ˜ å°„å±‚ï¼Œfseæ¡†æ¶ä¼šå°†ä½ çš„èˆå°ç»“æ„æ˜ å°„åˆ°æ­¤å±‚
    åœ¨èˆå°çš„ç¬¬3å±‚ï¼Œä¼šæœ‰ä¸€å±‚åº•å±‚ç”¨æˆ·æ“ä½œå±‚ï¼Œä½¿ç”¨fse.starlingRootè¿›è¡Œè®¿é—®
    åœ¨CPUæ¸²æŸ“å±‚ï¼Œä¹Ÿå°±æ˜¯æœ€é¡¶å±‚ï¼Œå› ä¸ºCPUå±‚è¦†ç›–åœ¨GPUæ¸²æŸ“å±‚ä¹‹ä¸Šï¼Œä¸€äº›å­˜åœ¨å…¼å®¹æ€§é—®é¢˜çš„å…ƒä»¶å¯ä»¥ä½¿ç”¨cpuå±‚æ¥è¿›è¡Œæ¸²æŸ“
  ```

- **é«˜çº§API**
  ```haxe
  fse.cpu(mc:MovieClip);
  fse.ban(mc:MovieClip); //ä¸ä¸Šä¸€è¡Œç­‰æ•ˆ
  fse.isIgnore(mc:MovieClip):Boolean //è·å–mcå¯¹è±¡çš„ç‰¹ä¾‹çŠ¶æ€
  //ä½¿ç”¨cpuæ¸²æŸ“
  /*
	  ä¸ºäº†è§£å†³æŸäº›å…¼å®¹æ€§é—®é¢˜,
	  è¢«ç”¨æˆ·æ ‡è®°çš„å‰ªè¾‘å°†ä¸ä¼šåœ¨FSEçš„Starlingèˆå°ä¸Šè¢«æ¸²æŸ“,è€Œæ˜¯ç›´æ¥åœ¨ä¼ ç»Ÿèˆå°ä¸Šæ¸²æŸ“
	  æ³¨æ„ï¼Œè¿™ä¹ˆåšä¼šå¯¼è‡´mcå§‹ç»ˆæ˜¾ç¤ºåœ¨GPUå±‚çš„ä¸Šæ–¹
  */
  


  fse.setKeyRole(mc:MovieClip);
  //å°†å½“å‰çš„å½±ç‰‡å‰ªè¾‘è®¾ç½®ä¸ºå…³é”®è§’è‰²
  fse.getKeyRole():String
  //è·å–è®¾ç½®è¿‡çš„å…³é”®è§’è‰²
  /*
	  fseæ¡†æ¶å…è®¸ç”¨æˆ·æ³¨å†Œä¸€ä¸ªå…³é”®è§’è‰²å‰ªè¾‘,ä¸€æ—¦è¿™ä¸ªå‰ªè¾‘äº§ç”Ÿå˜åŒ–Starlingé©¬ä¸Šæ¸²æŸ“ä¸‹ä¸€å¸§
	  è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬åº”ç”¨ä¸å“ªäº›ä¸ç©å®¶è¾“å…¥æ“ä½œç›¸å…³çš„å‰ªè¾‘,æ¯”å¦‚é¼ æ ‡è·Ÿéš,é”®ç›˜æ§åˆ¶ç§»åŠ¨ç­‰
	  ç”¨äºå®ç°ç”¨æˆ·ä¸€è¾“å…¥å°±é©¬ä¸Šç›¸åº”çš„æ•ˆæœ
  */
  


  fse.setNodeCached(mc:MovieClip,v:Boolean);
  //è®¾ç½®ç¼“å­˜ç‰¹ä¾‹
  /*
	  è®¾ç½®ç‰¹ä¾‹åï¼Œè¿™ä¸ªå¯¹è±¡çš„ä»¥åŠå½“å‰å®¹å™¨èŠ‚ç‚¹çš„æ‰€æœ‰è‚‰å­èŠ‚ç‚¹(Bitmapã€Shape)éƒ½ä¸å‚ä¸ç¼“å­˜ç³»ç»Ÿ
  */
  



  fse.gpuClear();
  //å¼ºåˆ¶æ¸…æ¥šç¼“å­˜é¢æ¿ä¸Šçš„æ‰€æœ‰ç¼“å­˜
  



  //=====ä¸Starlingæ··ç”¨============================================================
  fse.starlingRoot:starling.display.Sprite
  //ä¸ºç”¨æˆ·æä¾›çš„Starlingèˆå°æ ¹å®¹å™¨é¡¶å±‚(æ¨èç”¨äºæ·»åŠ ç²’å­æ•ˆæœä»¥åŠç‰¹æ•ˆ)

  fse.starlingRootBack:starling.display.Sprite
  //ä¸ºç”¨æˆ·æä¾›çš„Starlingèˆå°æ ¹å®¹å™¨åº•å±‚(æ¨èç”¨äºæ·»åŠ èƒŒæ™¯ç­‰åº•å±‚å†…å®¹å…ƒä»¶)

  ```

## Config.as
```
package fse.conf
{
	import flash.system.Capabilities;
	import flash.text.TextField;
	import flash.text.TextFieldType;
	import flash.display.DisplayObject;
	import flash.display.SimpleButton;
	
	import starling.textures.TextureSmoothing;
	
    /**
     * FSE å…¨å±€é…ç½®ç±»
     * ç”¨äºç»Ÿä¸€ç®¡ç†é€»è¾‘å¸§ç‡ã€æ¸²æŸ“ç²¾åº¦ç­‰é™æ€å‚æ•°
     */
    public class Config
    {
		
		// -------------------------------------------------
		// èˆå°æ˜¾ç¤ºç›¸å…³(Stage Display)
		// -------------------------------------------------
		public static const DEVICE_W:uint = Capabilities.screenResolutionX; //è®¾å¤‡çª—å£å¤§å°
		public static const DEVICE_H:uint = Capabilities.screenResolutionY;
		
		public static const FULL_SCREEN:Boolean = false;
		public static var AUTO_ADAPT:String = "AUTO"; //èˆå°è‡ªé€‚åº”æ–¹æ¡ˆ
		// ***å¯é€‰é¡¹
		//"FULL" å¡«æ»¡è§†çª—é€‚é…ï¼Œæ— è®ºå¦‚ä½•å¡«æ»¡è§†çª—ï¼ˆä¸ä¿è¯èˆå°æ¯”ä¾‹ï¼‰
		//"SYN_HEIGHT" èˆå°ç”»é¢ç´§è´´å±å¹•ä¸Šä¸‹ä¸¤è¾¹ï¼Œå¹¶ä¿è¯èˆå°æ¯”ä¾‹
		//"SYN_WIDTH"èˆå°ç”»é¢ç´§è´´å±å¹•å·¦å³ä¸¤è¾¹ï¼Œå¹¶ä¿è¯èˆå°æ¯”ä¾‹
		// "AUTO" ç¼©æ”¾è¾¹ç•Œè‡ªåŠ¨å†³å®šï¼Œå§‹ç»ˆä¿æŒèˆå°æ¯”ä¾‹
		// "NONE" æ¡†æ¶ä¸å¹²é¢„é€‚é…è¡Œä¸ºï¼Œä½†ä¾ç„¶ä¼šæ§åˆ¶æ¸²æŸ“çª—å£å’Œèˆå°é«˜å®½åŒæ­¥ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªé€‰é¡¹æœ‰ä»€ä¹ˆç”¨ï¼‰
		
		
		//èˆå°å¯¹é½ï¼Œé™¤éæœ‰ç‰¹æ®Šå¼€å‘éœ€è¦ä¸ç„¶ä¸€èˆ¬ä¸ä¿®æ”¹æ­¤é¡¹è®¾ç½®
		//ç‰¹æ®Šè¯´æ˜ï¼Œå¦‚æœèˆå°è‡ªé€‚åº”æ–¹æ¡ˆä¸æ­¤é¡¹å†²çªï¼Œåˆ™æ­¤é¡¹è®¾ç½®æ— æ•ˆï¼ˆæ¯”å¦‚ä½ çš„èˆå°å§‹ç»ˆç´§è´´å·¦å³ä¸¤è¾¹ï¼Œé‚£ä½ åˆè®¾ç½®äº†å·¦å¯¹é½ï¼Œé‚£å°±å¤±å»æ„ä¹‰äº†ï¼‰
		public static var ALIGN_X:String = "CENTER";
		// ***å¯é€‰é¡¹
		//"CENTER" é”šå®šå±å¹•ä¸­å¤®ä½ç½®ï¼Œè¿™æ˜¯æœ€æ¨èçš„è®¾ç½®
		//"LEFT" ç´§è´´å±å¹•å·¦ä¾§
		//"RIGHT" ç´§è´´å±å¹•å³ä¾§
		
		
		public static var ALIGN_Y:String = "CENTER";
		// ***å¯é€‰é¡¹
		//"CENTER" é”šå®šå±å¹•ä¸­å¤®ä½ç½®ï¼Œè¿™æ˜¯æœ€æ¨èçš„è®¾ç½®
		//"TOP" ç´§è´´å±å¹•ä¸Šä¾§
		//"BOTTOM" ç´§è´´å±å¹•ä¸‹ä¾§
		
		
		public static const BG_COLOR:uint=0x211F20; //èƒŒæ™¯é¢œè‰²
	
		public static const EXT_FPS:uint=400; //Starling æœ€é«˜å¸§é™(é€šå¸¸è®¾ç½®ä¸ºè¶…è¿‡å¤§å¤šæ•°å±å¹•åˆ·æ–°ç‡)
		
		
		
		// -------------------------------------------------
		// ç”»é¢é…ç½®ç›¸å…³(Quality)
		// -------------------------------------------------
		public static var TEXTURE_SMOOTHING:String = TextureSmoothing.BILINEAR; //çº¹ç†å¹³æ»‘è®¾ç½®
		// ***å¯é€‰é¡¹
		//TextureSmoothing.NONE (ä¸å¹³æ»‘/æœ€è¿‘é‚»æ’å€¼) ###å¦‚æœä½ çš„æ¸¸æˆçš„åƒç´ é£æ ¼æ¸¸æˆæ¨èä½¿ç”¨è¿™ä¸ªé€‰é¡¹
		//TextureSmoothing.BILINEAR (åŒçº¿æ€§è¿‡æ»¤ - é»˜è®¤å€¼)
		//TextureSmoothing.TRILINEAR (ä¸‰çº¿æ€§è¿‡æ»¤)
		
		
		
		// -------------------------------------------------
		// ç¼“å­˜ç­–ç•¥ç›¸å…³(Cache)
		// -------------------------------------------------
		public static const CACHE_THRESHOLD:uint = 3; //æŒä¹…åŒ–é˜ˆå€¼ï¼šå¦‚æœåœºæ™¯åŒæ—¶å‡ºç°è¶…è¿‡è¿™ä¸ªæ•°çš„åŒæ ·çº¹ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¹ç†å°†è¢«æŒä¹…åŒ–å­˜å…¥ç¼“å­˜
		public static const WATCHER_COLD_TIME:uint = 20;
		
		
		// -------------------------------------------------
		// è°ƒè¯•ç›¸å…³(Debug)
		// -------------------------------------------------
		public static const TRACE_CORE:Boolean = false; //æ— å…³ç´§è¦çš„ä¸€äº›å¯åŠ¨ä¿¡æ¯
		public static const TRACE_DEBUG:Boolean = true; //Starling GPUæ€§èƒ½ä¿¡æ¯
		public static const TRACE_WATCHER:Boolean = false; //èŠ‚ç‚¹æ•°ç›‘æ§è°ƒè¯•ä¿¡æ¯
		public static const TRACE_NODE:Boolean = false; //å•ä¸ªèŠ‚ç‚¹è¡Œä¸ºè°ƒè¯•ä¿¡æ¯
		public static const TRACE_CACHE:Boolean = false; //ç¼“å­˜å™¨ä¿¡æ¯
		
        // ------------------------------------------------
        // æ¸¸æˆé…ç½® (Game)
        // ------------------------------------------------
		public static const STOP_ALL:Boolean = true; //åœ¨æ¥ç®¡åé»˜è®¤æš‚åœæ‰€æœ‰å½±ç‰‡å‰ªè¾‘
		
        private static var _logicFrameRate:int = 60; //é€»è¾‘å¸§ç‡
        private static var _logicTimestep:Number = 1000.0 / _logicFrameRate;
        
		private static var _case_render:Array = [isInputText,isSimpleButton]; //ç»è¿‡è¿™äº›æ–­è¨€åˆ¤æ–­ä¸ºçœŸçš„è¯ä¸ç”¨starlingæ¸²æŸ“
		
		//è¾“å…¥æ–‡æœ¬æ–­è¨€
		private static function isInputText(obj:DisplayObject):Boolean {
			if (obj is TextField) {
				var textField:TextField = obj as TextField;
				// TextFieldType.INPUT æ˜¯é™æ€å¸¸é‡ï¼Œå€¼ä¸º "input"
				return textField.type == TextFieldType.INPUT;
			}
			return false;
		}
		
		//æŒ‰é’®æ–­è¨€
		private static function isSimpleButton(obj:*):Boolean{
			// æ£€æŸ¥æ˜¯å¦ä¸ºflash.display.SimpleButtonå®ä¾‹
			return obj is SimpleButton;
		}
        // ------------------------------------------------
        // å…¬å…±å‚æ•°
        // ------------------------------------------------
        
        /**
         * æœ€å¤§çš„è¿½èµ¶æ—¶é—´ (æ¯«ç§’)
         * å¦‚æœè®¾å¤‡æåº¦å¡é¡¿ï¼Œæ¯ä¸€å¸§æœ€å¤šåªå¤„ç†è¿™ä¹ˆé•¿æ—¶é—´çš„é€»è¾‘ï¼Œé˜²æ­¢æ­»å¾ªç¯
         * é»˜è®¤ 200ms (å³æœ€å·®æƒ…å†µæ¯å¸§è¿½èµ¶çº¦ 12 ä¸ªé€»è¾‘å¸§)
         */
        public static var maxAccumulator:Number = 200;

        /**
         * çº¹ç†ç¼©æ”¾ç³»æ•° (æœªæ¥ç”¨äºæ”¯æŒ Retina/é«˜æ¸…å±)
         * 1 = åŸå€, 2 = 2å€é«˜æ¸…
         */
        public static var contentScaleFactor:Number = 1.0;

        // ------------------------------------------------
        // Getter / Setter
        // ------------------------------------------------
		
		public static function get case_render():Array{
			return _case_render;
		}
        /**
         * ç›®æ ‡é€»è¾‘å¸§ç‡ (é»˜è®¤ä¸º 60)
         * ä¿®æ”¹æ­¤å€¼ä¼šè‡ªåŠ¨æ›´æ–° timestep
         */
        public static function get logicFrameRate():int
        {
            return _logicFrameRate;
        }

        public static function set logicFrameRate(value:int):void
        {
            if (value < 1) value = 1; // å®‰å…¨é™åˆ¶
            if (_logicFrameRate == value) return;

            _logicFrameRate = value;
            _logicTimestep = 1000.0 / _logicFrameRate;
            
            trace("[FSE_Config] Logic FPS set to: " + _logicFrameRate + " (Timestep: " + _logicTimestep.toFixed(2) + "ms)");
        }

        /**
         * [åªè¯»] æ¯ä¸€é€»è¾‘å¸§çš„æ—¶é—´æ­¥é•¿ (æ¯«ç§’)
         * ä¾‹å¦‚ 60fps = 16.666ms
         */
        public static function get logicTimestep():Number
        {
            return _logicTimestep;
        }
    }
}
```
## æ³¨æ„äº‹é¡¹
- å¦‚æœä½ çš„é¡¹ç›®ä¸­å‡ºç°å…¼å®¹æ€§é—®é¢˜,è¯·æŒ‰éœ€æ±‚æ·»åŠ æ¸²æŸ“ç‰¹ä¾‹

## åŸºæœ¬åŸç†
- æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä½¿ç”¨starlingçš„flashé¡¹ç›®,ä¼ ç»Ÿçš„cpuæ¸²æŸ“ä¼šåœ¨starlingçš„ä¸Šå±‚ï¼Œå¹¶ä¸”ä¸€æ—¦å¼€å§‹GPUæ¸²æŸ“,flashé¡¹ç›®å¸§é™ä¼šä»60fpsåˆ°ä¸åˆ·æ–°ç‡åŒæ­¥ä¾‹å¦‚,åœ¨400hzçš„ç”µè„‘ä¸Šå¯ä»¥è·‘åˆ°400fps
  
- é‚£ä¹ˆæˆ‘ä»¬åšä¸€ä¸ªæ¸¸æˆæ··åˆæ¸²æŸ“æ–¹æ¡ˆ
  - åƒ**ç®€å•é™æ€çš„å†…å®¹**ï¼Œæ¯”å¦‚é«˜æ¸…èƒŒæ™¯å›¾ç‰‡ç­‰ï¼Œæˆ–è€…ç®€å•ç§»åŠ¨çš„åœºæ™¯å›¾ç‰‡ï¼Œæˆ‘æ‰“ç®—ä½¿ç”¨**starlingè¿›è¡Œæ¸²æŸ“**ã€‚
  - å¦‚æœ**å¤æ‚çš„åŠ¨æ€å†…å®¹**ï¼Œæ¯”å¦‚åŠ¨ç”»ä¸­å³åµŒå¥—çš„åŠ¨ç”»ï¼Œæ¯”å¦‚æªæ¢°å¼€ç«åŠ¨ç”»ç»‘å®šåœ¨äººç‰©æ‰‹éƒ¨åŠ¨ç”»ä¸Šï¼Œé‚£æˆ‘ä»¬å°†ä½¿ç”¨ä¼ ç»Ÿçš„Flash cpuçš„æ–¹å¼æ¸²æŸ“ï¼Œä½†æˆ‘ä»¬ä¼šå°†cpuæ¸²æŸ“å±‚æ‰€æœ‰çš„ä¼ ç»Ÿå‰ªè¾‘å¼ºåˆ¶éšè—(visible=false)ï¼Œåªæœ‰å½“flash.display.movieclipæ›´æ–°ï¼ˆå…¶ä¸­æŸä¸ªå½±ç‰‡å‰ªè¾‘æˆ–è€…å­å‰ªè¾‘çš„å¸§å‘ç”Ÿå˜åŒ–ï¼‰ååˆ™æ›´æ–°drawå‡ºä½å›¾æ•°æ®ä½œä¸ºæ˜¾ç¤ºçº¹ç†ï¼Œå†ç”±starlingè¿›è¡Œæ¸²æŸ“ã€‚
  
- é‚£ä¹ˆåˆ°äº†è¿™é‡Œè‚¯å®šä¼šæœ‰å°æœ‹å‹è¦é—®äº†
  - â€œStarlingæ¡†æ¶ä¸ä½¿ç”¨å›¾é›†å¹¶é«˜é¢‘ç‡ä¸Šä¼ çº¹ç†ä¸ä¼šå¯¼è‡´æ€§èƒ½çˆ†ç‚¸å—ï¼Ÿâ€
  - â€œæ€ä¹ˆè¯´å¥½å‘¢ï¼Œæˆ‘ä»¬è¿™ä¸ªæ¡†æ¶æœ¬æ¥å°±ä¸æ˜¯ç”¨æ¥å¼€å‘ä¸“ä¸šåº”ç”¨çš„ï¼Œå¯¹äºä¸ªäººçº§åˆ«çš„é¡¹ç›®ï¼Œå¦‚æœæ‚¨çš„æ¸¸æˆä¸­èƒ½ä¿è¯åŠ¨æ€æ›´æ–°éƒ¨åˆ†è¾ƒå°‘ï¼Œå¹¶ä¸”èƒ½æ§åˆ¶çº¹ç†å¤§å°ï¼ˆæ§åˆ¶åœ¨å‡ ç™¾åƒç´ ä»¥å†…ï¼‰ï¼Œé‚£ä¹ˆæˆ‘è®¤ä¸ºä¸ä¼šå½±å“æ€§èƒ½
  å†µä¸”ï¼Œæˆ‘åˆ¶ä½œçš„æ¡†æ¶å…·æœ‰ä¸€äº›æ€§èƒ½ä¼˜åŒ–ç®—æ³•ï¼Œèƒ½è§£å†³ä¸€éƒ¨åˆ†ä½ çš„ç–‘è™‘â€
   
- è¿™ä¹ˆè¯´æ¥çš„è¯ï¼Œæˆ‘å®é™…åšçš„ä¹Ÿå°±æ˜¯è¿™å‡ ä»¶äº‹æƒ…
  -  **é€»è¾‘é©±åŠ¨æ§åˆ¶**
     -  æ¯”å¦‚ä¸€äº›é¢„æœŸçš„åŠ¨ç”»åªèƒ½ç”±60fpsæ’­æ”¾
     -  ä¸€äº›é€»è¾‘ä»£ç åªèƒ½ä»¥60fpsæ‰§è¡Œ
     -  ä½¿ç”¨æ¡†æ¶åçš„ä¸€åˆ‡é€»è¾‘å’ŒåŠ¨ç”»éƒ½è¦ç”±æ–°çš„60å¸§é€»è¾‘é©±åŠ¨
     -  ä¸èƒ½å› ä¸ºä¸»è§‚è®¾å¤‡ï¼ˆå±å¹•åˆ·æ–°ç‡ï¼‰çš„ä¸åŒå¯¼è‡´ç¨‹åºè¿è¡Œæ•ˆæœ/åŠ¨ç”»æ•ˆæœæœ‰å‡ºå…¥
  
  - **èˆå°ç›‘æ§**
     -  å¯¹Flashä¼ ç»ŸStageç”Ÿæˆå®æ—¶ç®¡ç†çš„åœºæ™¯ç»“æ„æ ‘
     -  åœºæ™¯æ ‘ä¸Šçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”ç€ä¸€ä¸ªflash.display.DisplayObjectå¯¹è±¡ï¼Œå¹¶å­˜å‚¨ä»–ä»¬çš„æ‰€æœ‰çŠ¶æ€(ä¾‹å¦‚currentFrame,visible,alpha,x,y,scaleX,scaleY,rotationç­‰)ï¼Œæœ€å…³é”®çš„ï¼Œ**é”šç‚¹ä¿¡æ¯**
     -  å¯¹åœºæ™¯æ ‘è¿›è¡Œéå†æ£€æŸ¥ï¼Œå¹¶æ¯”å¯¹æ¯ä¸ªå­å‰ªè¾‘æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œ**å˜åŒ–åˆ†ä¸ºä¸¤ç§**
        -  **1. å½¢å˜ï¼ˆå½±ç‰‡å‰ªè¾‘çš„å¸§æ•°ï¼Œå­å‰ªè¾‘é›†åˆæ”¹å˜ï¼Œå†…å®¹æ”¹å˜ç­‰ï¼‰**
        -  **2. å±æ€§å€¼æ”¹å˜ï¼ˆtransferå±æ€§æ”¹å˜ï¼ŒåŒæ­¥æ•°å€¼å³å¯ï¼‰**

  - **Starlingæ¸²æŸ“**
    - å¯¹äºflashä¼ ç»Ÿstageç”Ÿæˆå®æ—¶ç®¡ç†çš„åœºæ™¯æ ‘ï¼ŒStarlingèˆå°è¦å®æ—¶åŒæ­¥åœºæ™¯æ ‘ä¸Šå½±ç‰‡å‰ªè¾‘å‘ç”Ÿçš„å˜åŒ–ï¼ŒåŒæ­¥åˆ°Starlingèˆå°ä¸Š
    - åœ¨åŒä¸€çˆ¶å‰ªè¾‘å†…çš„æ‰€æœ‰starling.display.DisplayObjectå¯¹è±¡çš„å›¾å±‚é¡ºåºå¯ä»¥æŒ‰ç…§ä¼ ç»Ÿå‰ªè¾‘åŒæ­¥è¿‡æ¥çš„childrenIndexå€¼æŒ‰ç…§å¤§å°è¿›è¡Œæ˜¾ç¤ºå›¾å±‚æ’åº

  - **çº¹ç†ç¼“å­˜ç®¡ç†**
    - ä¸ºäº†å‡å°‘DrawCallsï¼Œæœ¬æ¡†æ¶ä½¿ç”¨MaxRectsç®—æ³•è¿›è¡ŒäºŒç»´ç©ºé—´uvè£…ç®±
    - å¯¹åœºæ™¯é‡Œçš„æ¯å¸§/æ¯ä¸ªDisplayObjectå¯¹è±¡ï¼Œéƒ½ç”Ÿæˆçº¹ç†ç›¸åº”çš„å”¯ä¸€å“ˆå¸Œå­—ç¬¦ä¸²

  - **è¾“å…¥äº‹ä»¶è½¬å‘**
    - ç”±äºCPUå±‚çš„æ‰€æœ‰å†…å®¹è¢«éšè—,è¿™æ„å‘³ç€æ³¨å†Œåœ¨ä»–ä»¬èº«ä¸Šçš„é¼ æ ‡ç‚¹å‡»äº‹ä»¶éƒ½å°†å¤±æ•ˆ
    - æˆ‘è®¾è®¡çš„è¾“å…¥è½¬å‘å™¨å¯ä»¥è½¬å‘é¼ æ ‡è¾“å…¥äº‹ä»¶åˆ°å¯¹åº”çš„flash.display.DisplayObjectèº«ä¸Š

## æ¡†æ¶
- åŒ…ç±»ç»“æ„ä¸º
- **fse**
  - **coreåŒ…**
    - **FSE** (æ ¸å¿ƒé™æ€ç±»ï¼Œæ¥å£å°è£…)
    - **FSE_Kernel** (æ ¸å¿ƒé™æ€ç±»çš„çœŸèº«)
    - **FSE_Manager** (è„æ´»ç´¯æ´»éƒ½ä»–å¹²ï¼Œæ­¤ç±»éœ€è¦å®ä¾‹åŒ–ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼)
    - **FSE_Input** (è¾“å…¥äº‹ä»¶è½¬å‘å™¨)
  - **displayåŒ…**
    - **Watcher** (åœºæ™¯æ ‘ç›‘æ§)
    - **Node** (å­˜å‚¨å•ä¸ªå½±ç‰‡å‰ªè¾‘è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶åŒ…å«Nodeå­é›†)
    - **Scanner** (ç”¨äºæ‰«æä¼ ç»Ÿèˆå°ä¸Šçš„åœºæ™¯æ ‘)
    - **Controller** (åŠ¨ç”»å‰ªè¾‘é€»è¾‘æ§åˆ¶å™¨)
    - **StatusSaver** (çŠ¶æ€ä¿å­˜å™¨)
  - **eventsåŒ…**
    - **FSE_Event** (è¿™ä¸ªå…¶å®ä½œç”¨ä¸å¤§ï¼Œå°±æ˜¯å†™ä¸€äº›äº‹ä»¶å¸¸é‡,æ¯”å¦‚FIX_ENTER_FRAME)
  - **confåŒ…**
    - **Config** (é…ç½®ç±»)
  - **starlingåŒ…**
    - **StarlingMain** (åˆå§‹åŒ–Starlingèˆå°)
    - **StarlingVO** (Starlingå½±ç‰‡å‰ªè¾‘æ ¹)
    - **StarlingManager** (è´Ÿè´£åŒæ­¥å¹¶ç®¡ç†)
  - **cacheåŒ…**
    - **AtlasPage** (å›¾é›†åˆ†é¡µç®¡ç†å™¨)
    - **CacheManager** (çº¹ç†ç¼“å­˜ç®¡ç†å™¨)
    - **Cache** (çº¹ç†ç¼“å­˜å®ä½“ç±»)
  - **utilsåŒ…**
    - **Hash** (BitmapDataå¿«é€Ÿå“ˆå¸Œ)
    - **MD5** (æ•£åˆ—åŠ å¯†)


## è”ç³»ä½œè€…
- ä½œè€…: undefined (ä¸€ä½æœ‰ç†æƒ³çš„ç‹¬ç«‹æ¸¸æˆåˆ¶ä½œäºº)
- å¾®ä¿¡: hbx098hbx123 (æ¬¢è¿äº¤æœ‹å‹)
- é‚®ç®±: 2199182141@qq.com
- ä½ å¯ä»¥æ·»åŠ ä½œè€…å¾®ä¿¡ï¼Œåé¦ˆBUGæˆ–è€…å»ºè®®

---
> ç¥å¤§å®¶2026å¹´é©¬åˆ°æˆåŠŸï¼Œ**ä»£ç ä¼šè€ï¼Œä½†åˆ›é€ çš„å¿ƒæ°¸è¿œå¹´è½»ã€‚**\
> å¦‚æœè¿™ä¸ªæ¡†æ¶ï¼Œèƒ½è®©ä½ åœ¨æœªæ¥çš„æŸå¤©ï¼Œæ›´è½»ç›ˆã€æ›´è‡ªç”±åœ°åšå‡ºå¿ƒä¸­æ‰€æƒ³ï¼Œé‚£ä¾¿æ˜¯å®ƒå…¨éƒ¨çš„æ„ä¹‰ã€‚\
> æ„Ÿè°¢ AS3ï¼Œæ„Ÿè°¢ä»åœ¨è¿™é‡Œçš„ä½ ã€‚\
> **2026.1.29**\
> äºä¸€ä¸ªå³å°†æ˜¥æš–èŠ±å¼€çš„æ—¥å­å‰

